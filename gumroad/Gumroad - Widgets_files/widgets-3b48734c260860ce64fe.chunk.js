(("undefined"!==typeof self?self:this).webpackJsonp=("undefined"!==typeof self?self:this).webpackJsonp||[]).push([[55],{250:function(e,t,o){"use strict";var r,a;r=[o(2),o(95)],void 0===(a=function(e,t){return e((function(){this.defaultAttrs({codeDisplaySelector:".js-widgets-code",codeCopySelector:".js-widgets-code-copy",embedPlaceholderSelector:".js-embed-placeholder",overlayButtonNameInSelector:".js-widgets-overlay-btn-name",overlayButtonSelector:".gumroad-button",overlayIsWantedSelector:".js-widgets-overlay-iswanted",outboundEmbedSelector:".js-widgets-embed-outbound",productChooserSelector:".js-widgets-product-chooser",singleProductModeSelector:".js-single-product-mode",tabTriggerSelector:".js-tab-trigger",baseUrl:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""),maxTextareaHeight:200,codeTextAreaLoaded:!1}),this.autoSizeCodeTextArea=function(){var e=this.select("codeDisplaySelector");for(this.attr.codeTextAreaLoaded=!0;this.getCodeInnerWidth()<e.outerWidth()&&e.height()<this.attr.maxTextareaHeight;)e.height(e.height()+1)},this.fitCodeInArea=function(){this.select("codeDisplaySelector").val(this.codeToCopy).height("auto"),this.attr.codeTextAreaLoaded&&this.autoSizeCodeTextArea()},this.getCodeInnerWidth=function(){var e=this.select("codeDisplaySelector");return e[0].scrollWidth+parseInt(e.css("border-left-width"))+parseInt(e.css("border-right-width"))},this.getCodePreamble=function(){var e=this.attr.baseUrl+"/js/";return'<script src="'+(e+="overlay"===this.attr.widgetType?"gumroad.js":"gumroad-embed.js")+'"><\/script>\n'},this.selectProduct=function(e){this.attr.selectedProductDataAttrs=this.select("productChooserSelector").find(":selected").data()||{url:e},this.updateWidgetPreview()},this.updateButtonText=function(){this.updateOverlayPreview(),this.fitCodeInArea()},this.updateEmbedPreview=function(){var e=this.select("outboundEmbedSelector").prop("checked"),t="",o=this.select("embedPlaceholderSelector"),r=this.attr.selectedProductDataAttrs.url;o.find("a").attr("href",r),e?(o.attr("data-outbound-embed","true"),t=' data-outbound-embed="true"'):o.attr("data-outbound-embed",null),this.codeToCopy="".concat(this.getCodePreamble(),'<div class="gumroad-product-embed"').concat(t,'><a href="').concat(r,'">').concat(o.text().trim(),"</a></div>"),window.GumroadEmbed||"function"!==typeof window.createGumroadEmbed||createGumroadEmbed(),window.GumroadEmbed&&window.GumroadEmbed.reload()},this.updateOverlayPreview=function(){var e=this.attr.selectedProductDataAttrs.url;this.select("overlayIsWantedSelector").prop("checked")&&(e+="?wanted=true");var t=this.select("overlayButtonSelector"),o=t.contents()[0].outerHTML||"",r=this.select("overlayButtonNameInSelector").val()||this.select("overlayButtonNameInSelector").attr("placeholder"),a=this.select("singleProductModeSelector").prop("checked")?"true":null;t.html(o+r).attr({href:e,"data-gumroad-single-product":a}),this.codeToCopy=this.getCodePreamble()+t[0].outerHTML.replace(o,"").replace("&amp;","&"),window.GumroadOverlay||"function"!==typeof window.createGumroadOverlay||createGumroadOverlay(),window.GumroadOverlay&&(window.GumroadOverlay.isSingleProductMode=a,window.GumroadOverlay.reload())},this.updateWidgetPreview=function(){this.trigger(document,"uiNeedsToCloseOverlay"),this.attr.widgetType=this.select("tabTriggerSelector").filter(".selected").data("tab"),"overlay"===this.attr.widgetType?this.updateOverlayPreview():this.updateEmbedPreview(),this.fitCodeInArea(),this.trigger(document,"showPreview"),this.trigger("uiPageHeightHasChanged")},this.after("initialize",(function(){this.on("keyup",{overlayButtonNameInSelector:this.updateButtonText}),this.on("change",{productChooserSelector:this.selectProduct,outboundEmbedSelector:this.updateWidgetPreview,overlayIsWantedSelector:this.updateWidgetPreview,singleProductModeSelector:this.updateWidgetPreview}),this.on("load",{codeDisplaySelector:this.autoSizeCodeTextArea}),this.on(document,"uiTabHasBeenSwitched",this.updateWidgetPreview),t.hookClipboard(this.select("codeCopySelector")),this.selectProduct(this.$node.data("default-product-url"))}))}))}.apply(t,r))||(e.exports=a)},251:function(e,t,o){"use strict";var r,a;r=[o(2)],void 0===(a=function(e){return e((function(){this.defaultAttrs({tabButtonSelector:null,tabContentSelector:null,selectedTab:null}),this.switchTab=function(e){this.attr.selectedTab=e,this.select("tabContentSelector").each((function(t,o){var r=$(o);r.attr("data-tab")==e?(r.removeClass("hidden"),r.addClass("selected")):(r.addClass("hidden"),r.removeClass("selected"))})),this.select("tabButtonSelector").each((function(t,o){var r=$(o);r.attr("data-tab")==e?r.addClass("selected"):r.removeClass("selected")})),this.trigger(document,"uiTabHasBeenSwitched")},this.switchTabFromClick=function(e,t){e.preventDefault(),this.switchTab($(t.el).attr("data-tab"))},this.after("initialize",(function(){this.switchTab(this.attr.selectedTab),this.on("click",{tabButtonSelector:this.switchTabFromClick})}))}))}.apply(t,r))||(e.exports=a)},807:function(e,t,o){"use strict";var r,a;r=[o(20),o(250),o(251)],void 0===(a=function(e,t,o){e.initialize(),t.attachTo(".js-widgets-page"),o.attachTo(".js-widgets-page",{tabButtonSelector:".js-tab-trigger",tabContentSelector:".js-tab-content",selectedTab:"overlay"})}.apply(t,r))||(e.exports=a)}},[[807,0,1]]]);